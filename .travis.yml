language: node_js

node_js:
  - "0.10"

before_install:
  - sudo add-apt-repository ppa:eyecreate/haxe -y
  - sudo apt-get update
  - sudo apt-get install haxe -y --force-yes
  - mkdir ~/haxelib
  - haxelib setup ~/haxelib
  - haxelib git hxnodejs https://github.com/HaxeFoundation/hxnodejs
  - haxelib git nodews https://github.com/haxorplatform/nodews

install:
  - git submodule update --init --recursive
  - cd ./assimp2json/
  - cmake -D CMAKE_INSTALL_PREFIX:STRING=./ .
  - make install
  - cd ..

script:
  - ./assimp2json/bin/assimp2json ./assimp2json/samples/spider.obj spider.obj.assimp.json
  - haxe build.hxml
  - haxe test-haxe.hxml

notifications:
    email: false